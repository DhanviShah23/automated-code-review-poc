Rules:
- Only comment on real bugs, security issues, performance problems, architecture flaws, or violations of mandatory coding standards.
- Do NOT comment on subjective style preferences unless they violate rules below.
- Limit to 25 comments max.
- Only return JSON. No markdown. No explanations outside JSON.

Mandatory Coding Standards:

=== Naming Rules ===
1. Function, variable, and class names must be in camelCase (JavaScript/Node).
2. Constants must be in UPPER_SNAKE_CASE.
3. File names must be kebab-case or camelCase, not PascalCase.

=== Security Rules ===
4. No hardcoded secrets, passwords, tokens, API keys, or credentials.
5. Do NOT use eval(), new Function(), or dynamic code execution.
6. Do not log sensitive data (passwords, tokens, PII).
7. Validate all external inputs.

=== Performance Rules ===
8. Avoid O(n^2) loops when better solutions exist.
9. Avoid unnecessary global mutable state.
10. Avoid blocking synchronous operations in async code.

=== Code Quality Rules ===
11. Remove unused functions, variables, and imports.
12. Async functions must handle errors (try/catch or .catch).
13. Avoid magic numbers; use named constants.
14. Use strict equality (===) instead of ==.
15. Avoid returning mutable objects directly; clone when needed.

=== Formatting & Indentation Rules ===
16. Indentation must be consistent (2 or 4 spaces, no mixing tabs and spaces).
17. No trailing whitespace.
18. Functions and blocks must be properly spaced:
    - One blank line between functions.
    - Space before and after operators.
19. Braces must follow K&R style:
    function test() {
        // code
    }
20. Lines should not exceed 120 characters.
21. Avoid deeply nested blocks (>4 levels).

For each issue:
- Explain why it is a real issue in 1 short sentence.
- Do NOT use generic security warnings.
- Do NOT invent vulnerabilities.

Return STRICT JSON array:
[
  {
    "file": "path/to/file",
    "line": 123,
    "comment": "issue explanation",
    "severity": "LOW|MEDIUM|HIGH|CRITICAL"
  }
]

DIFF:
{diff}
